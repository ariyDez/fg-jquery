{"version":3,"sources":["CreditApplication.js"],"names":["instance","factory","module","exports","CreditApplication","stepData","inputs","window","this","noGlobal","console","mainObject","doc","document","$root","slice","arr","get","class2type","log","hasOwn","hasOwnProperty","support"],"mappings":"waAAA,SAAAA,EAAAC,gBAMkB,iBAAAC,GAAA,iBAAAA,EAAAC,gEADZC,MAAAA,IAAAA,MAAAA,4CACY,OAAAH,EAAAI,IAEVC,EAAAA,GARR,CA6BK,oBAAAC,OAAAA,OAAAC,KAAA,SAAAD,EAAAE,GATOC,aA4BIC,SAAAA,EAAAA,EAAAA,GAehBT,IAAAA,GAlBgBU,EAAAA,GAAAC,IAkBCT,cAAjB,s/UAzCSO,IAAAA,MAMDG,GAAAA,EAAAA,kCAcAC,GAAAC,GAAML,MATJM,GAAAA,GAAAA,OAEMP,GAAAA,GAAAA,KAEAC,GAAAA,GAAAA,QAcAO,MACAR,GAAAA,GAAQS,SAVhBC,GAAAF,GAAAG,iDAGQC","file":"CreditApplication.js","sourcesContent":["import jQuery from 'jquery'\n\nwindow.jQuery = window.$ = jQuery;\n\nlet instance = null;\nclass CreditApplication {\n    constructor() {\n        this.apiUrl = 'http://127.0.0.1:3000/api';\n        this.step = 0;\n        if(!instance) {\n            instance = this;\n        }\n        return instance;\n    }\n\n    renderForm(data) {\n        const $root = $('#askartec-form');\n        let inputs = '';\n        const stepData = data;\n        for (let key in stepData) {\n            const input = stepData[key];\n            inputs += `<input type='${input.type}' name='${input.name}' ${input.required ? 'required' : ''} id=${input.id}>${input.label}<br />`;\n        }\n        const form = `<form id=\"formData\">\n                    ${inputs}\n                    <input type=\"hidden\" name=\"step\" value=\"${this.step}\">\n                    <button id=\"send\" type=\"button\">Send</button>\n                </form>`;\n        $root.html(form);\n    }\n\n    init() {\n        const mainObject = this;\n        $.get(`${this.apiUrl}/creditApplication`)\n            .done(function (data) {\n                console.log(data);\n                this.step = 1;\n                mainObject.renderForm(data);\n            });\n    }\n\n    send(data) {\n        const mainObject = this;\n        $.post(`${this.apiUrl}/changeStep`, data)\n            .done(function (data) {\n                \"use strict\";\n                console.log(data);\n                this.step++;\n                mainObject.renderForm(data);\n            })\n            .fail(function (error) {\n                \"use strict\";\n                console.log(error);\n            })\n    }\n}\n$('#send').click(function(e){\n    e.preventDefault();\n    const data = $('#formData').serialize();\n    const creditApplication = new CreditApplication();\n    creditApplication.send(data);\n});\n\nmodule.exports = CreditApplication;\n\n"]}